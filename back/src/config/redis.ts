import Redis from "ioredis";import { env } from "@/config/env";const globalForRedis = globalThis as unknown as {  redis: Redis | undefined;};function createRedisClient(): Redis {  const client = new Redis(env.REDIS_URL, {    maxRetriesPerRequest: 3,    retryStrategy(times) {      const delay = Math.min(times * 50, 2000);      console.log(`üîÑ Reintentando conexi√≥n a Redis... intento ${times}`);      return delay;    },    reconnectOnError(err) {      const targetError = "READONLY";      if (err.message.includes(targetError)) {        return true;      }      return false;    },  });  client.on("connect", () => {    console.log("‚úÖ Conectado a Redis");  });  client.on("error", (err) => {    console.error("‚ùå Error de Redis:", err.message);  });  client.on("close", () => {    console.log("üîå Conexi√≥n a Redis cerrada");  });  return client;}export const redis = globalForRedis.redis ?? createRedisClient();if (process.env.NODE_ENV !== "production") {  globalForRedis.redis = redis;}export async function testRedisConnection(): Promise<void> {  try {    await redis.ping();    console.log("‚úÖ Conexi√≥n a Redis verificada");  } catch (error) {    console.error("‚ùå Error al conectar con Redis:", error);    throw error;  }}export async function disconnectRedis(): Promise<void> {  await redis.quit();}